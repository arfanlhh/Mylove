<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memories of Us</title>
  <link rel="stylesheet" href="alvira.css">
  <script src="music-manager.js"></script>
</head>
<body>
  <header>
    <h1>ğŸ’– Our Sweet Memories ğŸ’–</h1>
    <p>Kenangan indah yang selalu kita simpan bersama</p>
    <div class="back-buttons">
    </div>
  </header>

  <main>
    <!-- Navigation Buttons -->
    <section class="navigation">
      <h2>Jelajahi Kenangan Kita</h2>
      <div class="nav-buttons">
        <a href="#" class="nav-btn beach locked" id="pantaiBtn" onclick="checkQuizAccess('pantai')">
          <span class="icon">ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨</span>
          <span class="title">Kenangan bersama sayang aku</span>
          <span class="lock-icon">ğŸ”’</span>
        </a>
        <a href="#" class="nav-btn romantic locked" id="romantisBtn" onclick="checkQuizAccess('romantis')">
          <span class="icon">ğŸ’•</span>
          <span class="title">Cantiknya aku</span>
          <span class="lock-icon">ğŸ”’</span>
        </a>
      </div>
    </section>

    <!-- Quiz Section -->
    <section class="quiz-section">
      <h2>ğŸ’• Quiz Cinta Kita ğŸ’•</h2>
      <p>Yuk tebak-tebakan tentang kita berdua!</p>
      
      <div class="quiz-container">
        <div class="quiz-question" id="quizQuestion">
          <h3 id="questionText">Pertanyaan akan muncul di sini...</h3>
          <div class="quiz-options" id="quizOptions">
            <!-- Options will be generated by JavaScript -->
          </div>
        </div>
        
        <div class="quiz-controls">
          <button id="startQuiz" class="quiz-btn start">ğŸ® Mulai Quiz</button>
          <button id="nextQuestion" class="quiz-btn next" style="display: none;">â¡ï¸ Pertanyaan Selanjutnya</button>
          <button id="restartQuiz" class="quiz-btn restart" style="display: none;">ğŸ”„ Main Lagi</button>
        </div>
        
        <div class="quiz-score" id="quizScore" style="display: none;">
          <h3>ğŸ‰ Hasil Quiz Kamu!</h3>
          <div class="score-display">
            <span id="scoreText">0/0</span>
            <div class="score-message" id="scoreMessage"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Additional Navigation -->
    <section class="additional-nav">
      <h3>Navigasi Cepat</h3>
      <div class="quick-nav-buttons">
        <a href="beranda.html" class="quick-nav-btn home">
          <span class="nav-icon">ğŸ </span>
          <span class="nav-text">Kembali ke Beranda</span>
        </a>
      </div>
    </section>
  </main>

  <footer>
    <p>Made with sayangnya kamuâ¤ï¸ just for you</p>
  </footer>

  <!-- Simple Music Toggle for alvira page -->
  <div class="simple-music-player">
    <button id="prevBtn" class="music-control-btn">â®ï¸</button>
    <button id="musicToggle" class="music-toggle-btn">ğŸµ</button>
    <button id="nextBtn" class="music-control-btn">â­ï¸</button>
  </div>

  <script>
    // Quiz Data
    const quizQuestions = [
      {
        question: "Siapa yang lebih suka makan pedas?",
        options: ["Aku", "Kamu", "Kita berdua", "Tidak ada yang suka"],
        correct: 1
      },
      {
        question: "berapa ukuran sepatu aku",
        options: ["39", "40", "41", "42"],
        correct: 2
      },
      {
        question: "Apa warna favorit aku?",
        options: ["Merah", "Biru", "Pink", "Hijau"],
        correct: 0
      },
      {
        question: " Berapa kali aku mandi saat libur?",
        options: ["3x", "2x", "1x", "ga mandi"],
        correct: 3
      },
      {
        question: "seberapa sayang kamu sama aku?",
        options: ["50%", "70%", "100%", "0%"],
        correct: 2
      }
    ];

    let currentQuestion = 0;
    let score = 0;
    let quizStarted = false;
    let quizPassed = false; // Track if user passed the quiz

    // Quiz Elements
    const startBtn = document.getElementById('startQuiz');
    const nextBtn = document.getElementById('nextQuestion');
    const restartBtn = document.getElementById('restartQuiz');
    const questionText = document.getElementById('questionText');
    const quizOptions = document.getElementById('quizOptions');
    const quizScore = document.getElementById('quizScore');
    const scoreText = document.getElementById('scoreText');
    const scoreMessage = document.getElementById('scoreMessage');

    // Start Quiz
    startBtn.addEventListener('click', startQuiz);
    nextBtn.addEventListener('click', nextQuestion);
    restartBtn.addEventListener('click', restartQuiz);

    function startQuiz() {
      quizStarted = true;
      currentQuestion = 0;
      score = 0;
      startBtn.style.display = 'none';
      nextBtn.style.display = 'none';
      quizScore.style.display = 'none';
      showQuestion();
    }

    function showQuestion() {
      const question = quizQuestions[currentQuestion];
      questionText.textContent = question.question;
      
      quizOptions.innerHTML = '';
      question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.className = 'option-btn';
        button.textContent = option;
        button.addEventListener('click', () => selectAnswer(index));
        quizOptions.appendChild(button);
      });
    }

    function selectAnswer(selectedIndex) {
      const question = quizQuestions[currentQuestion];
      const optionButtons = document.querySelectorAll('.option-btn');
      
      // Disable all buttons
      optionButtons.forEach(btn => btn.disabled = true);
      
      // Highlight correct and wrong answers
      optionButtons.forEach((btn, index) => {
        if (index === question.correct) {
          btn.classList.add('correct');
        } else if (index === selectedIndex && index !== question.correct) {
          btn.classList.add('wrong');
        }
      });

      // Update score
      if (selectedIndex === question.correct) {
        score++;
      }

      // Show next button or finish quiz
      if (currentQuestion < quizQuestions.length - 1) {
        nextBtn.style.display = 'inline-block';
      } else {
        setTimeout(showScore, 1500);
      }
    }

    function nextQuestion() {
      currentQuestion++;
      nextBtn.style.display = 'none';
      showQuestion();
    }

    function showScore() {
      quizOptions.style.display = 'none';
      nextBtn.style.display = 'none';
      quizScore.style.display = 'block';
      restartBtn.style.display = 'inline-block';
      
      scoreText.textContent = `${score}/${quizQuestions.length}`;
      
      // Score message and unlock logic
      const percentage = (score / quizQuestions.length) * 100;
      if (percentage >= 100) { // User needs at least 60% to unlock pages
        quizPassed = true;
        unlockPages();
        if (percentage >= 100) {
          scoreMessage.innerHTML = 'ğŸ‰ Keren banget sayangkuu kamu bener semuağŸ’•<br><small>Semua halaman foto sudah terbuka!</small>';
        } else {
          scoreMessage.innerHTML = 'ğŸ˜Š Bagus! Kamu sudah bisa melihat foto-foto kita! ğŸ˜˜<br><small>Semua halaman foto sudah terbuka!</small>';
        }
      } else {
        quizPassed = false;
        lockPages();
        scoreMessage.innerHTML = 'ğŸ˜… Hmm, parah kamu masa ga tau aku ğŸ’–<br><small>Jawab harus betul semua untuk membuka foto-foto kita!</small>';
      }
    }

    function restartQuiz() {
      quizStarted = false;
      currentQuestion = 0;
      score = 0;
      quizPassed = false;
      startBtn.style.display = 'inline-block';
      nextBtn.style.display = 'none';
      restartBtn.style.display = 'none';
      quizScore.style.display = 'none';
      quizOptions.style.display = 'block';
      questionText.textContent = 'Pertanyaan akan muncul di sini...';
      quizOptions.innerHTML = '';
      lockPages(); // Lock pages again when restarting
    }

    function unlockPages() {
      const pantaiBtn = document.getElementById('pantaiBtn');
      const romantisBtn = document.getElementById('romantisBtn');
      
      pantaiBtn.classList.remove('locked');
      pantaiBtn.href = 'pantai.html';
      pantaiBtn.onclick = null;
      
      romantisBtn.classList.remove('locked');
      romantisBtn.href = 'romantis.html';
      romantisBtn.onclick = null;
      
      // Remove lock icons
      const lockIcons = document.querySelectorAll('.lock-icon');
      lockIcons.forEach(icon => icon.style.display = 'none');
    }

    function lockPages() {
      const pantaiBtn = document.getElementById('pantaiBtn');
      const romantisBtn = document.getElementById('romantisBtn');
      
      pantaiBtn.classList.add('locked');
      pantaiBtn.href = '#';
      pantaiBtn.onclick = () => checkQuizAccess('pantai');
      
      romantisBtn.classList.add('locked');
      romantisBtn.href = '#';
      romantisBtn.onclick = () => checkQuizAccess('romantis');
      
      // Show lock icons
      const lockIcons = document.querySelectorAll('.lock-icon');
      lockIcons.forEach(icon => icon.style.display = 'inline');
    }

    function checkQuizAccess(page) {
      if (!quizPassed) {
        alert('ğŸ”’ Halaman ini terkunci!\n\nJawab harus bener semua untuk membuka halaman foto-foto kita!\n\nYuk main quiz dulu! ğŸ’•');
        // Scroll to quiz section
        document.querySelector('.quiz-section').scrollIntoView({ 
          behavior: 'smooth' 
        });
        return false;
      }
      return true;
    }

    // Initialize - lock pages on page load
    document.addEventListener('DOMContentLoaded', function() {
      lockPages();
    });
  </script>
</body>
</html>
